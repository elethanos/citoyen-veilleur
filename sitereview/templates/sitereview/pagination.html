{% load mathfilters %}

<nav aria-label="...">
  <ul class="pagination">
    
    <li class="page-item {% if not page.has_previous %} disabled {% endif %}">
      <a class="page-link" href="{% if page.has_previous %} {% url view_name page.previous_page_number %} {% endif %}" tabindex="-1" aria-disabled="true">Previous</a>
    </li>
    
    {% if page.number > 2 %}
    <li class="page-item"><a class="page-link" href="{% url view_name 1 %}">1</a></li>
    {% if page.number > 3 %}<li class="page-item disabled"><a class="page-link" href="#" aria-disabled="true">...</a></li>{% endif %}
    {% endif %}
    
    {% if page.has_previous %}
    <li class="page-item"><a class="page-link" href="{% url view_name page.previous_page_number %}">{{ page.previous_page_number }}</a></li>
    {% endif %}
    
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="{% url view_name page.number %}">{{ page.number }} <span class="sr-only">(current)</span></a>
    </li>

    {% if page.has_next %}
    <li class="page-item"><a class="page-link" href="{% url view_name page.next_page_number %}">{{ page.next_page_number }}</a></li>
    {% endif %}

    {% if page.next_page_number != page.paginator.num_pages %}
    {% if page.paginator.num_pages|sub:page.number > 2 %}<li class="page-item disabled"><a class="page-link" href="#" aria-disabled="true">...</a></li>{% endif %}
    <li class="page-item"><a class="page-link" href="{% url view_name page.paginator.num_pages %}">{{ page.paginator.num_pages }}</a></li>    
    {% endif %}
       
    <li class="page-item  {% if not page.has_next %} disabled {% endif %} ">
      <a class="page-link" href="{% if page.has_next %}{% url view_name page.next_page_number %}{% endif %}">Next</a>
    </li>
  </ul>
</nav>


